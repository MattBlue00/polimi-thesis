from data.batches import DataCleaningBatch
from data.checklists.data_cleaning.data_cleaning_accuracy_checklist import DataCleaningAccuracyChecklist
from data.checklists.data_cleaning.data_cleaning_completeness_checklist import DataCleaningCompletenessChecklist
from data.checklists.data_cleaning.item_ids import DataCleaningItemId
from experiments.model.dependency import DataCleaningDependency
from experiments.model.task_evaluation_handler import BaseTaskEvaluationHandler


class DataCleaningEvaluationHandler(BaseTaskEvaluationHandler):

    def __init__(self) -> None:
        dependencies = [
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_BROKERED_BY,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_BROKERED_BY,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_BROKERED_BY,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_BROKERED_BY
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_STATUS,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_STATUS,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_STATUS,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_STATUS
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_PRICE,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_PRICE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_PRICE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_PRICE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_BED,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_BED,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_BED,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_BED
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_BATH,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_BATH,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_BATH,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_BATH
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_ACRE_LOT,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_ACRE_LOT,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_ACRE_LOT,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_ACRE_LOT
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_STREET,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_STREET,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_STREET,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_STREET
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_CITY,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_CITY,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_CITY,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_CITY
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_STATE,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_STATE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_STATE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_STATE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_ZIP_CODE,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_ZIP_CODE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_ZIP_CODE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_ZIP_CODE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_HOUSE_SIZE,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_HOUSE_SIZE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_HOUSE_SIZE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_HOUSE_SIZE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_MISSING_VALUES_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_MISSING_VALUES_SOLUTION_PREV_SOLD_DATE,
                dependent=[
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_SOLUTION_PREV_SOLD_DATE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_ALL_KINDS_PREV_SOLD_DATE,
                    DataCleaningItemId.ACCURACY_MISSING_VALUES_OPTIMAL_PREV_SOLD_DATE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_BROKERED_BY,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_BROKERED_BY,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_BROKERED_BY
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_STATUS,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_STATUS,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_STATUS
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_PRICE,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_PRICE,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_PRICE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_BED,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_BED,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_BED
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_BATH,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_BATH,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_BATH
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_ACRE_LOT,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_ACRE_LOT,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_ACRE_LOT
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_STREET,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_STREET,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_STREET
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_CITY,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_CITY,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_CITY
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_STATE,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_STATE,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_STATE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_ZIP_CODE,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_ZIP_CODE,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_ZIP_CODE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_HOUSE_SIZE,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_HOUSE_SIZE,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_HOUSE_SIZE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_DIRTY_SOLUTION_PREV_SOLD_DATE,
                dependent=[
                    DataCleaningItemId.ACCURACY_DIRTY_SOLUTION_PREV_SOLD_DATE,
                    DataCleaningItemId.ACCURACY_DIRTY_OPTIMAL_PREV_SOLD_DATE
                ]
            ),
            DataCleaningDependency(
                batch=DataCleaningBatch.ACCURACY_DIRTY_SOLUTION,
                causing_dependency=DataCleaningItemId.COMPLETENESS_SOLUTION_NON_EXACT_DUPLICATES,
                dependent=[
                    DataCleaningItemId.ACCURACY_SOLUTION_NON_EXACT_DUPLICATES,
                    DataCleaningItemId.ACCURACY_OPTIMAL_NON_EXACT_DUPLICATES
                ]
            )
        ]
        checklists = [
            DataCleaningCompletenessChecklist(),
            DataCleaningAccuracyChecklist()
        ]
        super().__init__(checklists, dependencies)